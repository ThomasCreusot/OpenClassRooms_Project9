{% extends 'base.html' %}
{% load reviews_app_extras %}

{% block content %}
    <div id = homeblocpage>

        <h2>Vos posts</h2>

        {% for instance in my_tickets_and_reviews %}
            {% if instance|model_type == 'Ticket' %}
                <div class="ticket">
                    {% include 'reviews_app/partials/ticket_snippet.html' with ticket=instance %}
                    <div class="ticket-buttons">
                        <button><a href="{% url 'ticket-update' instance.id %}">Modifier</a></button>    
                        <button><a href="{% url 'ticket-delete' instance.id %}">Supprimer</a></button>    
                    </div>
                </div>
        
            {% elif instance|model_type == 'Review' %}
                <div class="review">
                    {% include 'reviews_app/partials/review_snippet.html' with review=instance %}
                    <div class="review-buttons">
                        <button><a href="{% url 'review-update' instance.id %}">Modifier</a></button>  
                        <button><a href="{% url 'review-delete' instance.id %}">Supprimer</a></button>    
                    </div>
                </div>
                
            {% endif %}
        {% endfor %}
    </div>

{% endblock content %}


